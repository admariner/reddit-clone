(this["webpackJsonpreddit-clone"]=this["webpackJsonpreddit-clone"]||[]).push([[0],{70:function(e,t,n){},71:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var s,c,o,r,i=n(3),a=n.n(i),u=n(62),j=n.n(u),d=n(12),m=(n(70),n(11)),l=n(9),b=(n(71),n(2)),O=function(){return Object(b.jsxs)("nav",{children:[Object(b.jsx)("span",{className:"appName",children:"Readit"}),Object(b.jsx)(m.b,{to:"/",children:"Home"})]})},h=n(27),x=(n(77),function(e){var t=e.children;return Object(b.jsx)("div",{className:"card",children:t})}),p=(n(78),function(e){var t=e.isPreview,n=void 0!==t&&t,s=e.title,c=e.description;return Object(b.jsxs)(x,{children:[n?Object(b.jsx)("h3",{className:"subreaditTitle",children:Object(b.jsxs)(m.b,{to:"/subreadit/".concat(s),children:["r/",s]})}):Object(b.jsxs)("h1",{className:"subreaditTitle",children:["r/",s]}),Object(b.jsx)("p",{className:"subreaditDescription",children:c})]})}),g=(n(79),function(e){var t=e.isPreview,n=void 0!==t&&t,s=e.postCount,c=void 0===s?0:s,o=e.commentCount,r=void 0===o?0:o,i=e.userName,a=e.bio;return Object(b.jsxs)(x,{children:[n?Object(b.jsx)("h3",{className:"userName",children:Object(b.jsxs)(m.b,{to:"/user/".concat(i),children:["u/",i]})}):Object(b.jsx)("h1",{className:"userName",children:i}),Object(b.jsx)("p",{children:a}),Object(b.jsxs)("p",{className:"userStats",children:[Object(b.jsxs)("span",{className:"userPostCount",children:[c," ",1===c?"post":"posts"]})," | ",Object(b.jsxs)("span",{className:"userCommentCount",children:[r," ",1===r?"comment":"comments"]})]})]})}),v=(n(80),function(){return Object(b.jsx)("div",{className:"loadingSpinner"})}),N=function(){return Object(b.jsx)("p",{children:"Error fetching data. Please try again later."})},C=(n(81),Object(d.gql)(s||(s=Object(h.a)(["\n  query FetchSubreaditsAndUsers {\n    querySubreadit {\n      name\n      description\n    }\n    queryUser {\n      userName\n      bio\n      postsAggregate {\n        count\n      }\n      commentsAggregate {\n        count\n      }\n    }\n  }\n"])))),P=function(){var e=Object(d.useQuery)(C),t=e.loading,n=e.data,s=e.error;return Object(b.jsxs)("div",{className:"homePage",children:[Object(b.jsx)("h1",{className:"srOnly",children:"Home"}),Object(b.jsx)("p",{children:"Welcome to Readit, a community of bookworms discussing their favorite books! Find a subreadit to browse or a user to follow below."}),Object(b.jsx)("h2",{children:"Popular Subreadits"}),t&&Object(b.jsx)(v,{}),s&&Object(b.jsx)(N,{}),n&&Object(b.jsx)("div",{className:"subreaditsSection",children:n.querySubreadit.map((function(e){return Object(b.jsx)(p,{isPreview:!0,title:e.name,description:e.description},e.name)}))}),Object(b.jsx)("h2",{children:"Popular Users"}),t&&Object(b.jsx)(v,{}),s&&Object(b.jsx)(N,{}),n&&Object(b.jsx)("div",{className:"usersSection",children:n.queryUser.map((function(e){var t,n;return Object(b.jsx)(g,{isPreview:!0,userName:e.userName,bio:e.bio,postCount:null===(t=e.postsAggregate)||void 0===t?void 0:t.count,commentCount:null===(n=e.commentsAggregate)||void 0===n?void 0:n.count},e.userName)}))})]})},y=(n(88),function(e){var t=e.isPreview,n=void 0!==t&&t,s=e.isOnSubreaditPage,c=void 0!==s&&s,o=e.isOnUserPage,r=void 0!==o&&o,i=e.id,a=e.title,u=e.voteCount,j=void 0===u?0:u,d=e.commentCount,l=void 0===d?0:d,O=e.subreaditName,h=e.userName;return Object(b.jsxs)(x,{children:[Object(b.jsxs)("p",{className:"postLocation",children:["Posted",!r&&Object(b.jsxs)("span",{className:"postUser",children:[" ","by ",Object(b.jsxs)(m.b,{to:"/user/".concat(h),children:["u/",h]})]}),!c&&Object(b.jsxs)("span",{className:"postSubreadit",children:[" ","in ",Object(b.jsxs)(m.b,{to:"/subreadit/".concat(O),children:["r/",O]})]})]}),n?Object(b.jsx)("h3",{className:"postTitle",children:Object(b.jsx)(m.b,{to:"/post/".concat(i),children:a})}):Object(b.jsx)("h1",{className:"postTitle",children:a}),Object(b.jsxs)("p",{className:"postStats",children:[Object(b.jsxs)("span",{className:"postVoteCount",children:[j," ",1===j?"vote":"votes"]})," | ",Object(b.jsxs)("span",{className:"postCommentCount",children:[l," ",1===l?"comment":"comments"]})]})]})}),f=(n(89),function(e){var t=e.commentContent,n=e.voteCount,s=void 0===n?0:n,c=e.userName,o=e.postTitle,r=e.postId,i=e.isOnUserPage,a=e.isOnPostPage;return Object(b.jsxs)(x,{children:[Object(b.jsxs)("p",{className:"commentLocation",children:["Commented",!i&&Object(b.jsxs)("span",{className:"commentUser",children:[" ","by ",Object(b.jsxs)(m.b,{to:"/user/".concat(c),children:["u/",c]})]}),!a&&Object(b.jsxs)("span",{className:"commentPost",children:[" ","on ",Object(b.jsx)(m.b,{to:"/post/".concat(r),children:o})]})]}),Object(b.jsx)("p",{className:"commentContent",children:t}),Object(b.jsxs)("p",{className:"commentVoteCount",children:[s," ",1===s?"vote":"votes"]})]})}),q=(n(90),Object(l.g)((function(e){var t,n=e.match,s=Object(d.gql)(c||(c=Object(h.a)(['\n    query FetchPostWithComments {\n      getPost(id: "','") {\n        title\n        user {\n          userName\n        }\n        subreadit {\n          name\n        }\n        voteCount\n        commentsAggregate {\n          count\n        }\n        comments {\n          commentContent\n          voteCount\n          user {\n            userName\n          }\n        }\n      }\n    }\n  '])),n.params.id),o=Object(d.useQuery)(s),r=o.loading,i=o.data,a=o.error;return Object(b.jsxs)("div",{className:"postPage",children:[r&&Object(b.jsx)(v,{}),a&&Object(b.jsx)(N,{}),i&&(i.getPost?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(y,{title:i.getPost.title,voteCount:i.getPost.voteCount,commentCount:null===(t=i.getPost.commentsAggregate)||void 0===t?void 0:t.count,subreaditName:i.getPost.subreadit.name,userName:i.getPost.user.userName}),Object(b.jsx)("h2",{children:"Comments"}),Object(b.jsx)("div",{className:"commentsSection",children:i.getPost.comments.length?i.getPost.comments.map((function(e){return Object(b.jsx)(f,{isOnPostPage:!0,commentContent:e.commentContent,voteCount:e.voteCount,userName:e.user.userName},e.commentContent)})):Object(b.jsx)("p",{children:"No comments yet!"})})]}):Object(b.jsx)(N,{}))]})}))),S=(n(91),Object(l.g)((function(e){var t=e.match,n=Object(d.gql)(o||(o=Object(h.a)(['\n    query FetchSubreaditWithPosts {\n      querySubreadit(filter: { name: { eq: "','" } }) {\n        name\n        description\n        posts {\n          id\n          title\n          user {\n            userName\n          }\n          voteCount\n          commentsAggregate {\n            count\n          }\n        }\n      }\n    }\n  '])),t.params.id),s=Object(d.useQuery)(n),c=s.loading,r=s.data,i=s.error;return Object(b.jsxs)("div",{className:"subreaditPage",children:[c&&Object(b.jsx)(v,{}),i&&Object(b.jsx)(N,{}),r&&((null===r||void 0===r?void 0:r.querySubreadit.length)?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(p,{title:r.querySubreadit[0].name,description:r.querySubreadit[0].description}),Object(b.jsx)("h2",{children:"Posts"}),Object(b.jsx)("div",{className:"postsSection",children:r.querySubreadit[0].posts.length?r.querySubreadit[0].posts.map((function(e){var t;return Object(b.jsx)(y,{isPreview:!0,isOnSubreaditPage:!0,id:e.id,title:e.title,voteCount:e.voteCount,commentCount:null===(t=e.commentsAggregate)||void 0===t?void 0:t.count,subreaditName:r.querySubreadit[0].name,userName:e.user.userName},e.id)})):Object(b.jsx)("p",{children:"No posts yet!"})})]}):Object(b.jsx)(N,{}))]})}))),U=(n(92),Object(l.g)((function(e){var t,n,s=e.match,c=Object(d.gql)(r||(r=Object(h.a)(['\n    query FetchUser {\n      queryUser(filter: { userName: { eq: "','" } }) {\n        userName\n        bio\n        posts {\n          id\n          title\n          user {\n            userName\n          }\n          subreadit {\n            name\n          }\n          voteCount\n          commentsAggregate {\n            count\n          }\n        }\n        postsAggregate {\n          count\n        }\n        comments {\n          id\n          commentContent\n          voteCount\n          user {\n            userName\n          }\n          post {\n            title\n            id\n          }\n        }\n        commentsAggregate {\n          count\n        }\n      }\n    }\n  '])),s.params.id),o=Object(d.useQuery)(c),i=o.loading,a=o.data,u=o.error;return Object(b.jsxs)("div",{className:"userPage",children:[i&&Object(b.jsx)(v,{}),u&&Object(b.jsx)(N,{}),a&&((null===a||void 0===a?void 0:a.queryUser.length)?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(g,{userName:a.queryUser[0].userName,bio:a.queryUser[0].bio,postCount:null===(t=a.queryUser[0].postsAggregate)||void 0===t?void 0:t.count,commentCount:null===(n=a.queryUser[0].commentsAggregate)||void 0===n?void 0:n.count}),Object(b.jsx)("h2",{children:"Posts"}),Object(b.jsx)("div",{className:"postsSection",children:a.queryUser[0].posts.length?a.queryUser[0].posts.map((function(e){var t;return Object(b.jsx)(y,{isPreview:!0,isOnUserPage:!0,id:e.id,title:e.title,voteCount:e.voteCount,commentCount:null===(t=e.commentsAggregate)||void 0===t?void 0:t.count,subreaditName:e.subreadit.name,userName:e.user.userName},e.id)})):Object(b.jsx)("p",{children:"No posts yet!"})}),Object(b.jsx)("h2",{children:"Comments"}),Object(b.jsx)("div",{className:"commentsSection",children:a.queryUser[0].comments.length?a.queryUser[0].comments.map((function(e){return Object(b.jsx)(f,{isOnUserPage:!0,postTitle:e.post.title,postId:e.post.id,commentContent:e.commentContent,voteCount:e.voteCount,userName:e.user.userName},e.id)})):Object(b.jsx)("p",{children:"No comments yet!"})})]}):Object(b.jsx)(N,{}))]})})));n(93);function w(){return Object(b.jsx)(m.a,{basename:"/reddit-clone/build",children:Object(b.jsxs)("div",{children:[Object(b.jsx)(O,{}),Object(b.jsx)("main",{children:Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{path:"/subreadit/:id",children:Object(b.jsx)(S,{})}),Object(b.jsx)(l.b,{path:"/post/:id",children:Object(b.jsx)(q,{})}),Object(b.jsx)(l.b,{path:"/user/:id",children:Object(b.jsx)(U,{})}),Object(b.jsx)(l.b,{path:"/",children:Object(b.jsx)(P,{})}),Object(b.jsx)(l.b,{path:"*",children:Object(b.jsx)(l.a,{to:"/"})})]})})]})})}var A=new d.ApolloClient({uri:"https://reddit-clone.us-west-2.aws.cloud.dgraph.io/graphql",cache:new d.InMemoryCache});j.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(d.ApolloProvider,{client:A,children:Object(b.jsx)(w,{})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.a729e8d2.chunk.js.map